{"ast":null,"code":"import _objectSpread from\"C:/Users/Utente/Desktop/tenzies/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Utente/Desktop/tenzies/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Die from\"./Die\";import{nanoid}from\"nanoid\";import Confetti from\"react-confetti\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _React$useState=React.useState(allNewDice()),_React$useState2=_slicedToArray(_React$useState,2),dice=_React$useState2[0],setDice=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),tenzies=_React$useState4[0],setTenzies=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),count=_React$useState6[0],setCount=_React$useState6[1];React.useEffect(function(){var allHeld=dice.every(function(die){return die.isHeld;});var firstValue=dice[0].value;var allSameValue=dice.every(function(die){return die.value===firstValue;});if(allHeld&&allSameValue){setTenzies(true);setCount(0);}},[dice]);function generateNewDie(){return{value:Math.ceil(Math.random()*6),isHeld:false,id:nanoid()};}function allNewDice(){var newDice=[];for(var i=0;i<10;i++){newDice.push(generateNewDie());}return newDice;}function counter(){setCount(count+1);}function rollDice(){if(!tenzies){counter();setDice(function(oldDice){return oldDice.map(function(die){return die.isHeld?die:generateNewDie();});});}else{setTenzies(false);setDice(allNewDice());}}function _holdDice(id){setDice(function(oldDice){return oldDice.map(function(die){return die.id===id?_objectSpread(_objectSpread({},die),{},{isHeld:!die.isHeld}):die;});});}var diceElements=dice.map(function(die){return/*#__PURE__*/_jsx(Die,{value:die.value,isHeld:die.isHeld,holdDice:function holdDice(){return _holdDice(die.id);}},die.id);});return/*#__PURE__*/_jsxs(\"main\",{children:[tenzies&&/*#__PURE__*/_jsx(Confetti,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Tenzies\"}),/*#__PURE__*/_jsx(\"p\",{className:\"instructions\",children:\"Roll until all dice are the same. Click each die to freeze it at its current value between rolls.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dice-container\",children:diceElements}),/*#__PURE__*/_jsxs(\"p\",{className:\"counter\",children:[\"Count:\",count]}),/*#__PURE__*/_jsx(\"button\",{className:\"roll-dice\",onClick:rollDice,children:tenzies?\"New Game\":\"Roll\"})]});}","map":{"version":3,"names":["React","Die","nanoid","Confetti","jsx","_jsx","jsxs","_jsxs","App","_React$useState","useState","allNewDice","_React$useState2","_slicedToArray","dice","setDice","_React$useState3","_React$useState4","tenzies","setTenzies","_React$useState5","_React$useState6","count","setCount","useEffect","allHeld","every","die","isHeld","firstValue","value","allSameValue","generateNewDie","Math","ceil","random","id","newDice","i","push","counter","rollDice","oldDice","map","holdDice","_objectSpread","diceElements","children","className","onClick"],"sources":["C:/Users/Utente/Desktop/tenzies/src/App.js"],"sourcesContent":["import React from \"react\"\nimport Die from \"./Die\"\nimport {nanoid} from \"nanoid\"\nimport Confetti from \"react-confetti\"\n\nexport default function App() {\n\n    const [dice, setDice] = React.useState(allNewDice())\n    const [tenzies, setTenzies] = React.useState(false)\n    const [count, setCount] = React.useState(0)\n    \n    React.useEffect(() => {\n        const allHeld = dice.every(die => die.isHeld)\n        const firstValue = dice[0].value\n        const allSameValue = dice.every(die => die.value === firstValue)\n        if (allHeld && allSameValue) {\n            setTenzies(true)\n            setCount(0)\n        }\n    }, [dice])\n\n    function generateNewDie() {\n        return {\n            value: Math.ceil(Math.random() * 6),\n            isHeld: false,\n            id: nanoid()\n        }\n    }\n    \n    function allNewDice() {\n        const newDice = []\n        for (let i = 0; i < 10; i++) {\n            newDice.push(generateNewDie())\n        }\n        return newDice\n    }\n    \n    function counter(){\n        setCount(count + 1)\n    }\n    \n    function rollDice() {\n        if(!tenzies) {\n            counter()\n            setDice(oldDice => oldDice.map(die => {\n                return die.isHeld ? \n                    die :\n                    generateNewDie()\n            }))\n        } else {\n            setTenzies(false)\n            setDice(allNewDice())\n        }\n    }\n    \n    function holdDice(id) {\n        setDice(oldDice => oldDice.map(die => {\n            return die.id === id ? \n                {...die, isHeld: !die.isHeld} :\n                die\n        }))\n    }\n    \n    const diceElements = dice.map(die => (\n        <Die \n            key={die.id} \n            value={die.value} \n            isHeld={die.isHeld} \n            holdDice={() => holdDice(die.id)}\n        />\n    ))\n    \n    return (\n        <main>\n            {tenzies && <Confetti />}\n            <h1 className=\"title\">Tenzies</h1>\n            <p className=\"instructions\">Roll until all dice are the same. \n            Click each die to freeze it at its current value between rolls.</p>\n            <div className=\"dice-container\">\n                {diceElements}\n            </div>\n            <p className=\"counter\">Count:{count}</p>\n            <button \n                className=\"roll-dice\" \n                onClick={rollDice}\n            >\n                {tenzies ? \"New Game\" : \"Roll\"}\n            </button>\n        </main>\n    )\n}"],"mappings":"yOAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,GAAG,KAAM,OAAO,CACvB,OAAQC,MAAM,KAAO,QAAQ,CAC7B,MAAO,CAAAC,QAAQ,KAAM,gBAAgB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErC,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAG,CAE1B,IAAAC,eAAA,CAAwBT,KAAK,CAACU,QAAQ,CAACC,UAAU,EAAE,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAJ,eAAA,IAA7CK,IAAI,CAAAF,gBAAA,IAAEG,OAAO,CAAAH,gBAAA,IACpB,IAAAI,gBAAA,CAA8BhB,KAAK,CAACU,QAAQ,CAAC,KAAK,CAAC,CAAAO,gBAAA,CAAAJ,cAAA,CAAAG,gBAAA,IAA5CE,OAAO,CAAAD,gBAAA,IAAEE,UAAU,CAAAF,gBAAA,IAC1B,IAAAG,gBAAA,CAA0BpB,KAAK,CAACU,QAAQ,CAAC,CAAC,CAAC,CAAAW,gBAAA,CAAAR,cAAA,CAAAO,gBAAA,IAApCE,KAAK,CAAAD,gBAAA,IAAEE,QAAQ,CAAAF,gBAAA,IAEtBrB,KAAK,CAACwB,SAAS,CAAC,UAAM,CAClB,GAAM,CAAAC,OAAO,CAAGX,IAAI,CAACY,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,MAAM,GAAC,CAC7C,GAAM,CAAAC,UAAU,CAAGf,IAAI,CAAC,CAAC,CAAC,CAACgB,KAAK,CAChC,GAAM,CAAAC,YAAY,CAAGjB,IAAI,CAACY,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACG,KAAK,GAAKD,UAAU,GAAC,CAChE,GAAIJ,OAAO,EAAIM,YAAY,CAAE,CACzBZ,UAAU,CAAC,IAAI,CAAC,CAChBI,QAAQ,CAAC,CAAC,CAAC,CACf,CACJ,CAAC,CAAE,CAACT,IAAI,CAAC,CAAC,CAEV,QAAS,CAAAkB,cAAcA,CAAA,CAAG,CACtB,MAAO,CACHF,KAAK,CAAEG,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,MAAM,EAAE,CAAG,CAAC,CAAC,CACnCP,MAAM,CAAE,KAAK,CACbQ,EAAE,CAAElC,MAAM,EACd,CAAC,CACL,CAEA,QAAS,CAAAS,UAAUA,CAAA,CAAG,CAClB,GAAM,CAAA0B,OAAO,CAAG,EAAE,CAClB,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,EAAE,CAAEA,CAAC,EAAE,CAAE,CACzBD,OAAO,CAACE,IAAI,CAACP,cAAc,EAAE,CAAC,CAClC,CACA,MAAO,CAAAK,OAAO,CAClB,CAEA,QAAS,CAAAG,OAAOA,CAAA,CAAE,CACdjB,QAAQ,CAACD,KAAK,CAAG,CAAC,CAAC,CACvB,CAEA,QAAS,CAAAmB,QAAQA,CAAA,CAAG,CAChB,GAAG,CAACvB,OAAO,CAAE,CACTsB,OAAO,EAAE,CACTzB,OAAO,CAAC,SAAA2B,OAAO,QAAI,CAAAA,OAAO,CAACC,GAAG,CAAC,SAAAhB,GAAG,CAAI,CAClC,MAAO,CAAAA,GAAG,CAACC,MAAM,CACbD,GAAG,CACHK,cAAc,EAAE,CACxB,CAAC,CAAC,GAAC,CACP,CAAC,IAAM,CACHb,UAAU,CAAC,KAAK,CAAC,CACjBJ,OAAO,CAACJ,UAAU,EAAE,CAAC,CACzB,CACJ,CAEA,QAAS,CAAAiC,SAAQA,CAACR,EAAE,CAAE,CAClBrB,OAAO,CAAC,SAAA2B,OAAO,QAAI,CAAAA,OAAO,CAACC,GAAG,CAAC,SAAAhB,GAAG,CAAI,CAClC,MAAO,CAAAA,GAAG,CAACS,EAAE,GAAKA,EAAE,CAAAS,aAAA,CAAAA,aAAA,IACZlB,GAAG,MAAEC,MAAM,CAAE,CAACD,GAAG,CAACC,MAAM,GAC5BD,GAAG,CACX,CAAC,CAAC,GAAC,CACP,CAEA,GAAM,CAAAmB,YAAY,CAAGhC,IAAI,CAAC6B,GAAG,CAAC,SAAAhB,GAAG,qBAC7BtB,IAAA,CAACJ,GAAG,EAEA6B,KAAK,CAAEH,GAAG,CAACG,KAAM,CACjBF,MAAM,CAAED,GAAG,CAACC,MAAO,CACnBgB,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAA,SAAQ,CAACjB,GAAG,CAACS,EAAE,CAAC,EAAC,EAH5BT,GAAG,CAACS,EAAE,CAIb,EACL,CAAC,CAEF,mBACI7B,KAAA,SAAAwC,QAAA,EACK7B,OAAO,eAAIb,IAAA,CAACF,QAAQ,IAAG,cACxBE,IAAA,OAAI2C,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAC,SAAO,EAAK,cAClC1C,IAAA,MAAG2C,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,mGACmC,EAAI,cACnE1C,IAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAC1BD,YAAY,EACX,cACNvC,KAAA,MAAGyC,SAAS,CAAC,SAAS,CAAAD,QAAA,EAAC,QAAM,CAACzB,KAAK,GAAK,cACxCjB,IAAA,WACI2C,SAAS,CAAC,WAAW,CACrBC,OAAO,CAAER,QAAS,CAAAM,QAAA,CAEjB7B,OAAO,CAAG,UAAU,CAAG,MAAM,EACzB,GACN,CAEf"},"metadata":{},"sourceType":"module","externalDependencies":[]}